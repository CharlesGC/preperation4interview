<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #dragElement{
            height: 200px;
            width: 200px;
            position:absolute;
            left: 400px;
            background-color: aqua;
        }
        #container{
            width: 500px;
            height: 500px;
            background-color: blue;
        }
    </style>
</head>
<body>
    <div id="dragElement"></div>
    <div id="container"></div>
    <script>
        
        var dragElem = document.getElementById("dragElement"),
            container = document.getElementById("container"),
            offsetX = 0, offsetY =0, isDrag = false,
            cOffsetX = container.offsetLeft,
            cOffsetY = container.offsetTop,
            dragElemBgColor = dragElem.style.backgroundColor,
            dHeight = dragElem.offsetHeight,
            dWidth = dragElem.offsetWidth,
            cHeight = container.offsetHeight,
            cWidth = container.offsetWidth;

        dragElem.addEventListener("mousedown",function(e){
            e = e || window.event;

            isDrag = true;
            console.log("mousedown drag value:"+isDrag);
            offsetX = e.clientX - dragElem.offsetLeft;
            offsetY = e.clientY - dragElem.offsetTop;
        }, false);

        dragElem.addEventListener("mousemove",function(e){
            e = e || window.event;
            console.log("mousemove drag value:"+isDrag);
            if(isDrag){
                var left = e.clientX - offsetX,
                    top = e.clientY - offsetY;
                
                dragElem.style.left = left + "px";
                dragElem.style.top = top + "px";
                // 判断是否在目标区域上方，是的话就变色
                // var cL = cOffsetX,
                //     cR = cOffsetX + cWidth,
                //     cT = cOffsetY,
                //     cB = cOffsetY + cHeight;

                // var dL = left,
                //     dR = left + dWidth,
                //     dT = top,
                //     dB = top + dHeight;
                
                // if(dL>cR || dR<cL || dB<cT || dT > cB){
                //     // 肯定不会重叠
                //     container.style.backgroundColor=dragElemBgColor;
                // }
                // else{
                //     container.style.backgroundColor="yellow";
                // }

            }
        }, false);

        document.addEventListener("mouseup", function(e){
            e = e || window.event;
            isDrag = false;
            console.log("mouseup drag value:"+isDrag);
            
        }, false);
    </script>
</body>
</html>